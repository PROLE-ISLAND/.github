# =====================================================
# Auto Labeler Configuration Template
# ファイルパス・ブランチ名に基づく自動ラベリング
#
# 使い方:
# 1. このファイルを .github/labeler.yml にコピー
# 2. プロジェクト固有のパターンを追加
# 3. .github/workflows/labeler.yml で呼び出し
#
# Ref: https://github.com/actions/labeler
# =====================================================

# === ドメインラベル（ファイルパスベース） ===
frontend:
  - changed-files:
      - any-glob-to-any-file:
        - 'src/app/**/*.tsx'
        - 'src/components/**'
        - 'src/hooks/**'
        - '**/*.css'
        - 'tailwind.config.*'

backend:
  - changed-files:
      - any-glob-to-any-file:
        - 'src/app/api/**'
        - 'src/lib/**'
        - 'src/server/**'

database:
  - changed-files:
      - any-glob-to-any-file:
        - 'supabase/migrations/**'
        - 'supabase/seed.sql'
        - 'src/lib/supabase/**'
        - 'src/types/database.ts'
        - 'prisma/**'

# === type: ラベル（ブランチ名ベース） ===
'type:requirements':
  - head-branch: ['^requirements/', '^plan/', '^design/']

'type:implementation':
  - head-branch: ['^feature/', '^feat/']

'type:docs':
  - head-branch: ['^docs/', '^documentation/']
  - changed-files:
      - all-globs-to-all-files:
        - '**/*.md'
        - 'docs/**'

'type:refactor':
  - head-branch: ['^refactor/']

'type:bugfix':
  - head-branch: ['^bugfix/', '^hotfix/', '^fix/']

# === ci: ラベル（ファイルパスベース） ===
'ci:skip':
  - changed-files:
      - all-globs-to-all-files:
        - '**/*.md'
        - '!README.md'
        - '.github/*.md'

'ci:e2e':
  - changed-files:
      - any-glob-to-any-file:
        - 'e2e/**'
        - 'playwright.config.ts'
        - 'src/app/**/page.tsx'

# === risk: ラベル ===
'risk:migration':
  - changed-files:
      - any-glob-to-any-file:
        - 'supabase/migrations/**'
        - 'prisma/migrations/**'

'risk:breaking':
  - changed-files:
      - any-glob-to-any-file:
        - 'src/types/**'
        - 'package.json'

# === 設定・インフラ ===
config:
  - changed-files:
      - any-glob-to-any-file:
        - '.github/**'
        - '*.config.*'
        - '.env*'
        - 'tsconfig*.json'
        - '.eslintrc*'

infrastructure:
  - changed-files:
      - any-glob-to-any-file:
        - 'vercel.json'
        - '.vercel/**'
        - 'Dockerfile*'
        - 'docker-compose*'

# === プロジェクト固有（追加例） ===
# プロジェクトに応じてカスタマイズ
#
# 'domain:auth':
#   - changed-files:
#       - any-glob-to-any-file:
#         - 'src/lib/auth/**'
#         - 'src/app/api/auth/**'
#
# 'domain:payments':
#   - changed-files:
#       - any-glob-to-any-file:
#         - 'src/lib/stripe/**'
#         - 'src/app/api/payments/**'
